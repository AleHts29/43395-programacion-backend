module.exports=getBackendStore;const getParameter=require("../aws-util")["getParameter"],getBackendId=require("./get-backend-id");async function getBackendStore(){if(process.env.USE_NOOP_BACKEND_STORE)return{type:"noop"};if(void 0!==process.env.BACKEND_STORE)return{};var backendId=(await getBackendId())["backendId"];let value;try{value=JSON.parse(await getParameter("/artilleryio/BACKEND_DATABASE_CONFIG",backendId))}catch(err){return console.error(err),{}}return value?{type:value.type,config:{secretArn:value.secretArn,resourceArn:value.resourceArn,region:value.region,database:value.database||"postgres"}}:{}}