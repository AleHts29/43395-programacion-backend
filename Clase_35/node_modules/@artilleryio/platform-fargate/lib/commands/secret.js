"use strict";const util=require("../util"),awsUtil=require("../aws-util"),ALLOWED_CONFIG_PARAMETERS=require("../constants")["ALLOWED_CONFIG_PARAMETERS"],setDefaultAWSCredentials=require("../utils/aws-set-default-credentials");async function set(options){var name=options.name,value=options.value;options.region||(console.log(util.formatError(new Error("A region must be specified, e.g. us-east-1"))),process.exit(1)),-1===util.supportedRegions.indexOf(options.region)&&(console.log(`Unsupported region (${options.region}) provided. Please specify one of: ${util.supportedRegions.join(", ")} `),process.exit(1)),name&&value||(console.log(util.formatError(new Error("Both name and value must be provided"))),process.exit(1));try{await setDefaultAWSCredentials();await awsUtil.putParameter("/artilleryio/"+name,value,"SecureString",options.region),console.log(`Parameter ${name} in ${options.region} has been updated`,"(encrypted)")}catch(err){console.log(util.formatError(err)),process.exit(1)}}module.exports={set:set};